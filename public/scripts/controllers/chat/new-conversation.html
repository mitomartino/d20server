<div class="modal-header flex-horizontal">
    <div class="modal-title full-flex">
        New Conversation
    </div>
</div>

<div class="modal-body flex-vertical">

    <form name="conversationForm">

        <md-input-container class="md-block" >

            <label>Title</label>

            <input md-maxlength="50" required="" name="title" ng-model="conversation.title" />
            <div class="hint">Enter a title for the conversation</div>
            <div ng-messages="conversationForm.title.$error">
                <div ng-message="required">Title is required</div>            
            </div>

        </md-input-container>

        <div class="user-select-container full-flex flex-vertical">
            <div class="heading unflex">
                Users
            </div>
            <div class="full-flex nudge-down-more">
                <user-select allowed-users="allowedUsers"
                            allow-self="false"
                            selection="conversation.users"
                            multi-select="false">

                </user-select>
            </div>
        </div>

    </form>

    <div class="unflex flex-horizontal form-line" >
        <span class="validation-error" ng-if="errors.users"> {{ errors.users  }}</span>
        <span class="validation-error" ng-if="errors.server">{{ errors.server }}</span>
    </div>

    <div class="unflex flex-horizontal action-row">
        <md-button class="md-raised md-primary  clickable full-flex" ng-if="!busy" ng-click="ok()">Create</md-button>
        <md-button class="md-raised md-warn  clickable full-flex" ng-if="!busy" ng-click="cancel()">Cancel</md-button>
        <div class="loading-block" ng-if="busy">
            <i class="fa fa-3x fa-spinner fa-spin"></i>
        </div>
    </div>

</div>
